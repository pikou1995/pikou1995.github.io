(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{178:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"e",(function(){return c})),r.d(e,"f",(function(){return o})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return u})),r.d(e,"g",(function(){return s}));var n={CU:"铜",TC:"镀锡铜"},i={CU:8.9,TC:8.9},c=["0.9","1.25","1.6","2"],o=.85,a=["XLPE","PVC","PE","WDZ"],u=["WDZ","PVC","EPDM","AB隔氧层料"],s={CU:"纯铜",TC:"镀锡铜",STEEL:"钢丝",AL:"铝箔屏蔽",mica:"云母带",EPDM:"EPDM乙丙橡胶",XLPE:"XLPE",PVC:"PVC",PE:"PE",WDZ:"WDZ","AB隔氧层料":"AB隔氧层料"}},189:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));r(186);var n=r(185),i=r(0),c=r(92);function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u=[{title:"型号",dataIndex:"model",key:"model",filterMultiple:!1,onFilter:function(t,e){return e.model===t},filters:[]},{title:"规格",dataIndex:"spec",key:"spec"}];function s(t){var e=t.model,r=e.modelsLoaded,a=e.models,s=t.dispatch,h=t.showInsulationWeight,l=void 0===h||h,f=t.showSheathWeight,d=void 0===f||f,p=t.showOscrWeight,y=void 0===p||p;if(!r)return s(Object(c.a)()),null;var m=[].concat(u);return l&&m.push({title:"绝缘重量",dataIndex:"iw",key:"iw"}),d&&m.push({title:"护套重量",dataIndex:"sw",key:"sw"}),y&&m.push({title:"屏蔽重量",dataIndex:"oscr",key:"oscr"}),m[0].filters=o(new Set(a.map((function(t){return t.model})))).map((function(t){return{text:t,value:t}})),i.createElement("div",{style:t.style||{padding:15}},i.createElement(n.a,{columns:m,dataSource:a}))}},192:function(t,e,r){t.exports=r(30)(60)},213:function(t,e,r){"use strict";r.r(e),r.d(e,"CableReport",(function(){return x})),r.d(e,"default",(function(){return C}));r(186);var n=r(185),i=(r(173),r(172)),c=(r(196),r(197)),o=r(0),a=r(178),u=r(86);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m(t);if(e){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),t}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var x=function(){function t(e,r){P(this,t),this.cable=e,this.priceConfig=r,b(this,"logs",{corePrice:[],micaPrice:[],insulationPrice:[],iscrPrice:[],iDrainWirePrice:[],oscrPrice:[],drainWirePrice:[],innerSheathPrice:[],swaPrice:[],sheathPrice:[]})}return v(t,[{key:"toFixed",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return isNaN(t)?"":t.toFixed(e)}},{key:"segmentedPrice",value:function(t){var e=this;return t?[1.1,1.15,1.2,1.25,1.3].map((function(r){return e.toFixed(r*t)})).join("/"):""}},{key:"getLog",value:function(t){return this.logs[t]}},{key:"setLog",value:function(t,e){this.logs[t]=e}},{key:"id",get:function(){return this.cable.id}},{key:"type",get:function(){return Object(u.a)(this.cable)}},{key:"corePrice",get:function(){var t=this.cable,e=t.coreNum,r=t.coreArea,n=t.coreType,i=t.pair,c=this.priceConfig,o=c.material,a=c.coreWeight;if(!e||!r)return"0";var u=[],s=(void 0===a?{}:a)[r];u.push("".concat(n,"单位重量 = ").concat(s));var h=(s*o[n]).toFixed(2);u.push("单位价格(".concat(h,") = ↸(").concat(s,") * ").concat(n,"单价(").concat(o[n],")"));var l=this.toFixed(+e*+h*(i?2:1));return u.push("总价(".concat(l,") = ").concat(i?"".concat(e,"对"):"数量(".concat(e,")")," * ↸(").concat(h,")")),this.setLog("corePrice",u),l}},{key:"micaPrice",get:function(){var t=this.cable,e=t.coreNum,r=t.mica,n=this.priceConfig.material;if(0===r||!e)return"0";var i=[];i.push("mica单价 = ".concat(n.mica));var c=this.toFixed(+e*r*n.mica);return i.push("总价(".concat(c,") = 数量(").concat(e,") * ").concat(r,"层 * ↸(").concat(n.mica,")")),this.setLog("micaPrice",i),c}},{key:"insulationPrice",get:function(){var t=this.cable,e=t.coreNum,r=t.coreArea,n=t.insulation,i=t.pair,c=this.priceConfig,o=c.insulationWeight,a=c.material;if(!n||!r||!e)return"0";var u=[];u.push("".concat(n,"单位重量 = ").concat(o[r]));var s=this.toFixed(o[r]*a[n]);u.push("单位价格(".concat(s,") = ↸(").concat(o[r],") * ").concat(n,"单价(").concat(a[n],")"));var h=this.toFixed(+e*+s*(i?2:1));return u.push("总价(".concat(h,") = ").concat(i?"".concat(e,"对"):"数量(".concat(e,")")," * ↸(").concat(s,")")),this.setLog("insulationPrice",u),h}},{key:"iscrPrice",get:function(){var t=this.cable,e=t.coreNum,r=t.iscr,n=this.priceConfig,i=n.material,c=n.iscrWeight;if(!r||!e)return"0";var o=[];o.push("iscr单位重量 = ".concat(c[this.type]));var a=this.toFixed(i.AL*c[this.type]);o.push("单位价格(".concat(a,") = ↸(").concat(c[this.type],") * 铝单价(").concat(i.AL,")"));var u=this.toFixed(+e*+a);return o.push("总价(".concat(u,") = 数量(").concat(e,") * ↸(").concat(a,")")),this.setLog("iscrPrice",o),u}},{key:"oscrPrice",get:function(){var t=this.cable.oscr,e=this.priceConfig,r=e.material,n=e.oscrWeight;if(!t)return"0";var i=[],c=n[this.type];i.push("oscr单位重量 = ".concat(c));var o=this.toFixed(r.AL*c);return i.push("总价(".concat(o,") = ↸(").concat(c,") * 铝单价(").concat(r.AL,")")),this.setLog("oscrPrice",i),o}},{key:"iDrainWirePrice",get:function(){var t=this.cable,e=t.coreNum,r=t.iscr,n=t.iDrainWire,i=this.priceConfig.material;if(!r||!n||!e)return"0";var c=[];c.push("单排流线直径 = ".concat(n));var o=this.toFixed(3.14*Math.pow(+n/2,2));c.push("排流线体积(".concat(o,"): ↸(").concat(n," / 2) ^ 2 * 3.14"));var u=this.toFixed(+o*a.b.TC);c.push("排流线重量(".concat(u,") = ↸(").concat(o,") * 镀锡铜密度(").concat(a.b.TC,")"));var s=this.toFixed(+u*i.TC);c.push("单位价格(".concat(s,") = ↸(").concat(u,") * ").concat(i.TC));var h=this.toFixed(+s*+e);return c.push("总价(".concat(h,") = 数量(").concat(e,") * ↸(").concat(s,")")),this.setLog("iDrainWirePrice",c),h}},{key:"drainWirePrice",get:function(){var t=this.cable,e=t.coreNum,r=t.iscr,n=t.drainWire,i=this.priceConfig.material;if(!r||!n||!e)return"0";var c=[];c.push("总排流线直径 = ".concat(n));var o=this.toFixed(3.14*Math.pow(+n/2,2));c.push("排流线体积(".concat(o,"): ↸(").concat(n," / 2) ^ 2 * 3.14"));var u=this.toFixed(+o*a.b.TC);c.push("排流线重量".concat(u," = ↸(").concat(o,") * 镀锡铜密度(").concat(a.b.TC,")"));var s=this.toFixed(+u*i.TC);return c.push("总价".concat(s," = ↸(").concat(u,") * 铝单价(").concat(i.TC,")")),this.setLog("drainWirePrice",c),s}},{key:"innerSheathPrice",get:function(){var t=this.cable.innerSheath,e=this.priceConfig,r=e.material,n=e.innerSheathWeight;if(0===t)return"0";var i=[],c=n[this.type];i.push("".concat(t,"单位重量 = ").concat(c));var o=this.toFixed(c*r[t]);return i.push("总价(".concat(o,") = ↸(").concat(c,") * ").concat(t,"单价(").concat(r[t],")")),this.setLog("innerSheathPrice",i),o}},{key:"swaPrice",get:function(){var t=this.cable,e=t.swa,r=t.diameter,n=this.priceConfig,i=n.material,c=n.swaWeight;if(0===e||!r)return"0";var o=[],u=this.toFixed(3.14*+r/e);o.push("钢丝数量(".concat(u,") = 直径(").concat(r,") * ").concat(3.14," / 钢丝直径(").concat(e,")"));var s=this.toFixed(+u*a.f*c[e]);o.push("钢丝重量(".concat(s,") = ↸(").concat(u,") * 绞距浪费(").concat(a.f,") * 钢丝单位重量(").concat(c[e],")"));var h=this.toFixed(+s*i.STEEL);return o.push("总价(".concat(h,") = ↸(").concat(s,") * 钢单价(").concat(i.STEEL,")")),this.setLog("swaPrice",o),h}},{key:"sheathPrice",get:function(){var t=this.cable.sheath;if(!t)return"0";var e=this.priceConfig,r=e.material,n=[],i=e.sheathWeight[this.type];n.push("".concat(t,"单位重量 = ").concat(i));var c=this.toFixed(i*r[t]);return n.push("总价(".concat(c,") = ↸(").concat(i,") * ").concat(t,"单价(").concat(r[t],")")),this.setLog("sheathPrice",n),c}},{key:"price",get:function(){return{corePrice:this.corePrice,micaPrice:this.micaPrice,insulationPrice:this.insulationPrice,iscrPrice:this.iscrPrice,iDrainWirePrice:this.iDrainWirePrice,oscrPrice:this.oscrPrice,drainWirePrice:this.drainWirePrice,innerSheathPrice:this.innerSheathPrice,swaPrice:this.swaPrice,sheathPrice:this.sheathPrice}}},{key:"total",get:function(){return this.toFixed(Object.values(this.price).reduce((function(t,e){return t+ +e}),0))}},{key:"RMBUp",get:function(){return this.segmentedPrice(+this.total)}},{key:"totalUSD",get:function(){var t=this.priceConfig.exchangeRate;return this.toFixed(t.USD*+this.total)}},{key:"USDUp",get:function(){return this.segmentedPrice(+this.totalUSD)}}]),t}(),S=[{title:"规格",dataIndex:"type",key:"type"},{title:"总价RMB",dataIndex:"total",key:"total"}],w=[{title:"RMB上浮10%/15%/20%/25%/30%",dataIndex:"RMBUp",key:"RMBUp"},{title:"总价USD",dataIndex:"totalUSD",key:"totalUSD"},{title:"USD上浮10%/15%/20%/25%/30%",dataIndex:"USDUp",key:"USDUp"}],k=[{title:"金属",dataIndex:"corePrice",key:"corePrice"},{title:"云母",dataIndex:"micaPrice",key:"micaPrice"},{title:"绝缘",dataIndex:"insulationPrice",key:"insulationPrice"},{title:"ISCR铝箔单屏",dataIndex:"iscrPrice",key:"iscrPrice"},{title:"单排流线",dataIndex:"iDrainWirePrice",key:"iDrainWirePrice"},{title:"OSCR铝箔总屏蔽",dataIndex:"oscrPrice",key:"oscrPrice"},{title:"总排流线",dataIndex:"drainWirePrice",key:"drainWirePrice"},{title:"内护套",dataIndex:"innerSheathPrice",key:"innerSheathPrice"},{title:"钢丝铠装",dataIndex:"swaPrice",key:"swaPrice"},{title:"外护套",dataIndex:"sheathPrice",key:"sheathPrice"}],C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(r,t);var e=d(r);function r(t){var n;return P(this,r),b(y(n=e.call(this,t)),"handleToggle",(function(t){return function(e){n.setState(b({},t,e))}})),n.state={showUSD:!1},n}return v(r,[{key:"render",value:function(){var t=this.props,e=t.priceConfig.priceConfig,r=t.cable.cables,a=(void 0===r?[]:r).map((function(t){return new x(t,e)})),u=this.state.showUSD;return o.createElement("div",null,o.createElement(i.a,{layout:"inline"},o.createElement(i.a.Item,{label:"显示美元价格和上浮价格"},o.createElement(c.a,{checked:u,onChange:this.handleToggle("showUSD")}))),o.createElement(n.a,{columns:[].concat(S,h(u?w:[])),dataSource:a,rowKey:"id",pagination:!1,expandedRowRender:function(t){return t?o.createElement(n.a,{columns:k.filter((function(e){var r=e.dataIndex;return"0"!==t[r]})),rowKey:function(){return"1"},dataSource:[t],pagination:!1}):null}}))}}]),r}(o.Component)},364:function(t,e,r){"use strict";r.r(e);var n=r(57),i=r(189);e.default=Object(n.connect)((function(t){return{model:t.model}}))(i.a)}}]);