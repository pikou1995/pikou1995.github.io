(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{170:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return u}));var r={CU:"铜",TC:"镀锡铜"},a={CU:8.9,TC:8.9},c=["0.9","1.25","1.6","2"],i=.85,o=["XLPE","PVC","PE","WDZ"],l=["WDZ","PVC","EPDM","AB隔氧层料"],u={CU:"纯铜",TC:"镀锡铜",STEEL:"钢丝",AL:"铝箔屏蔽",mica:"云母带",EPDM:"EPDM乙丙橡胶",XLPE:"XLPE",PVC:"PVC",PE:"PE",WDZ:"WDZ","AB隔氧层料":"AB隔氧层料"}},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(178);var r=n(177),a=n(51),c=n.n(a),i=n(0),o=n(91),l=[{title:"型号",dataIndex:"model",key:"model",filterMultiple:!1,onFilter:function(e,t){return t.model===e},filters:[]},{title:"规格",dataIndex:"spec",key:"spec"}];function u(e){var t=e.model,n=t.modelsLoaded,a=t.models,u=e.dispatch,s=e.showInsulationWeight,h=void 0===s||s,f=e.showSheathWeight,p=void 0===f||f,m=e.showOscrWeight,d=void 0===m||m;if(!n)return u(Object(o.a)()),null;var g=[].concat(l);return h&&g.push({title:"绝缘重量",dataIndex:"iw",key:"iw"}),p&&g.push({title:"护套重量",dataIndex:"sw",key:"sw"}),d&&g.push({title:"屏蔽重量",dataIndex:"oscr",key:"oscr"}),g[0].filters=c()(new Set(a.map((function(e){return e.model})))).map((function(e){return{text:e,value:e}})),i.createElement("div",{style:e.style||{padding:15}},i.createElement(r.a,{columns:g,dataSource:a}))}},184:function(e,t,n){e.exports=n(28)(60)},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(165);var r=n(164),a=(n(180),n(179)),c=n(0),i=n(59),o=n(170);function l(e){var t=e.dispatch,n=e.priceConfig,l=n.priceConfigLoaded,u=n.priceConfig;if(!l)return t(Object(i.a)()),null;var s=u.material,h=Object.keys(s).sort();return c.createElement(r.a,{layout:"vertical"},h.map((function(e){return c.createElement(r.a.Item,{label:"".concat(o.g[e]||e,"单价"),key:e},c.createElement(a.a,{type:"number",value:s[e],onChange:function(n){return t(Object(i.c)("material",e,+n.target.value))}}))})))}},214:function(e,t,n){"use strict";n.r(t),n.d(t,"CableReport",(function(){return S})),n.d(t,"default",(function(){return R}));n(178);var r=n(177),a=n(51),c=n.n(a),i=(n(165),n(164)),o=(n(194),n(195)),l=n(45),u=n.n(l),s=n(15),h=n.n(s),f=n(68),p=n.n(f),m=n(57),d=n.n(m),g=n(9),v=n.n(g),y=n(14),E=n.n(y),b=n(4),C=n.n(b),P=n(0),k=n(170),x=n(84);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var S=function(){function e(t,n){v()(this,e),this.cable=t,this.priceConfig=n,C()(this,"logs",{corePrice:[],micaPrice:[],insulationPrice:[],iscrPrice:[],iDrainWirePrice:[],oscrPrice:[],drainWirePrice:[],innerSheathPrice:[],swaPrice:[],sheathPrice:[]})}return E()(e,[{key:"toFixed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return isNaN(e)?"":e.toFixed(t)}},{key:"segmentedPrice",value:function(e){var t=this;return e?[1.1,1.15,1.2,1.25,1.3].map((function(n){return t.toFixed(n*e)})).join("/"):""}},{key:"getLog",value:function(e){return this.logs[e]}},{key:"setLog",value:function(e,t){this.logs[e]=t}},{key:"id",get:function(){return this.cable.id}},{key:"type",get:function(){return Object(x.a)(this.cable)}},{key:"corePrice",get:function(){var e=this.cable,t=e.coreNum,n=e.coreArea,r=e.coreType,a=e.pair,c=this.priceConfig,i=c.material,o=c.coreWeight;if(!t||!n)return"0";var l=[],u=(void 0===o?{}:o)[n];l.push("".concat(r,"单位重量 = ").concat(u));var s=(u*i[r]).toFixed(2);l.push("单位价格(".concat(s,") = ↸(").concat(u,") * ").concat(r,"单价(").concat(i[r],")"));var h=this.toFixed(+t*+s*(a?2:1));return l.push("总价(".concat(h,") = ").concat(a?"".concat(t,"对"):"数量(".concat(t,")")," * ↸(").concat(s,")")),this.setLog("corePrice",l),h}},{key:"micaPrice",get:function(){var e=this.cable,t=e.coreNum,n=e.mica,r=this.priceConfig.material;if(0===n||!t)return"0";var a=[];a.push("mica单价 = ".concat(r.mica));var c=this.toFixed(+t*n*r.mica);return a.push("总价(".concat(c,") = 数量(").concat(t,") * ").concat(n,"层 * ↸(").concat(r.mica,")")),this.setLog("micaPrice",a),c}},{key:"insulationPrice",get:function(){var e=this.cable,t=e.coreNum,n=e.coreArea,r=e.insulation,a=e.pair,c=this.priceConfig,i=c.insulationWeight,o=c.material;if(!r||!n||!t)return"0";var l=[];l.push("".concat(r,"单位重量 = ").concat(i[n]));var u=this.toFixed(i[n]*o[r]);l.push("单位价格(".concat(u,") = ↸(").concat(i[n],") * ").concat(r,"单价(").concat(o[r],")"));var s=this.toFixed(+t*+u*(a?2:1));return l.push("总价(".concat(s,") = ").concat(a?"".concat(t,"对"):"数量(".concat(t,")")," * ↸(").concat(u,")")),this.setLog("insulationPrice",l),s}},{key:"iscrPrice",get:function(){var e=this.cable,t=e.coreNum,n=e.iscr,r=this.priceConfig,a=r.material,c=r.iscrWeight;if(!n||!t)return"0";var i=[];i.push("iscr单位重量 = ".concat(c[this.type]));var o=this.toFixed(a.AL*c[this.type]);i.push("单位价格(".concat(o,") = ↸(").concat(c[this.type],") * 铝单价(").concat(a.AL,")"));var l=this.toFixed(+t*+o);return i.push("总价(".concat(l,") = 数量(").concat(t,") * ↸(").concat(o,")")),this.setLog("iscrPrice",i),l}},{key:"oscrPrice",get:function(){var e=this.cable.oscr,t=this.priceConfig,n=t.material,r=t.oscrWeight;if(!e)return"0";var a=[],c=r[this.type];a.push("oscr单位重量 = ".concat(c));var i=this.toFixed(n.AL*c);return a.push("总价(".concat(i,") = ↸(").concat(c,") * 铝单价(").concat(n.AL,")")),this.setLog("oscrPrice",a),i}},{key:"iDrainWirePrice",get:function(){var e=this.cable,t=e.coreNum,n=e.iscr,r=e.iDrainWire,a=this.priceConfig.material;if(!n||!r||!t)return"0";var c=[];c.push("单排流线直径 = ".concat(r));var i=this.toFixed(3.14*Math.pow(+r/2,2));c.push("排流线体积(".concat(i,"): ↸(").concat(r," / 2) ^ 2 * 3.14"));var o=this.toFixed(+i*k.b.TC);c.push("排流线重量(".concat(o,") = ↸(").concat(i,") * 镀锡铜密度(").concat(k.b.TC,")"));var l=this.toFixed(+o*a.TC);c.push("单位价格(".concat(l,") = ↸(").concat(o,") * ").concat(a.TC));var u=this.toFixed(+l*+t);return c.push("总价(".concat(u,") = 数量(").concat(t,") * ↸(").concat(l,")")),this.setLog("iDrainWirePrice",c),u}},{key:"drainWirePrice",get:function(){var e=this.cable,t=e.coreNum,n=e.iscr,r=e.drainWire,a=this.priceConfig.material;if(!n||!r||!t)return"0";var c=[];c.push("总排流线直径 = ".concat(r));var i=this.toFixed(3.14*Math.pow(+r/2,2));c.push("排流线体积(".concat(i,"): ↸(").concat(r," / 2) ^ 2 * 3.14"));var o=this.toFixed(+i*k.b.TC);c.push("排流线重量".concat(o," = ↸(").concat(i,") * 镀锡铜密度(").concat(k.b.TC,")"));var l=this.toFixed(+o*a.TC);return c.push("总价".concat(l," = ↸(").concat(o,") * 铝单价(").concat(a.TC,")")),this.setLog("drainWirePrice",c),l}},{key:"innerSheathPrice",get:function(){var e=this.cable.innerSheath,t=this.priceConfig,n=t.material,r=t.innerSheathWeight;if(0===e)return"0";var a=[],c=r[this.type];a.push("".concat(e,"单位重量 = ").concat(c));var i=this.toFixed(c*n[e]);return a.push("总价(".concat(i,") = ↸(").concat(c,") * ").concat(e,"单价(").concat(n[e],")")),this.setLog("innerSheathPrice",a),i}},{key:"swaPrice",get:function(){var e=this.cable,t=e.swa,n=e.diameter,r=this.priceConfig,a=r.material,c=r.swaWeight;if(0===t||!n)return"0";var i=[],o=this.toFixed(3.14*+n/t);i.push("钢丝数量(".concat(o,") = 直径(").concat(n,") * ").concat(3.14," / 钢丝直径(").concat(t,")"));var l=this.toFixed(+o*k.f*c[t]);i.push("钢丝重量(".concat(l,") = ↸(").concat(o,") * 绞距浪费(").concat(k.f,") * 钢丝单位重量(").concat(c[t],")"));var u=this.toFixed(+l*a.STEEL);return i.push("总价(".concat(u,") = ↸(").concat(l,") * 钢单价(").concat(a.STEEL,")")),this.setLog("swaPrice",i),u}},{key:"sheathPrice",get:function(){var e=this.cable.sheath;if(!e)return"0";var t=this.priceConfig,n=t.material,r=[],a=t.sheathWeight[this.type];r.push("".concat(e,"单位重量 = ").concat(a));var c=this.toFixed(a*n[e]);return r.push("总价(".concat(c,") = ↸(").concat(a,") * ").concat(e,"单价(").concat(n[e],")")),this.setLog("sheathPrice",r),c}},{key:"price",get:function(){return{corePrice:this.corePrice,micaPrice:this.micaPrice,insulationPrice:this.insulationPrice,iscrPrice:this.iscrPrice,iDrainWirePrice:this.iDrainWirePrice,oscrPrice:this.oscrPrice,drainWirePrice:this.drainWirePrice,innerSheathPrice:this.innerSheathPrice,swaPrice:this.swaPrice,sheathPrice:this.sheathPrice}}},{key:"total",get:function(){return this.toFixed(Object.values(this.price).reduce((function(e,t){return e+ +t}),0))}},{key:"RMBUp",get:function(){return this.segmentedPrice(+this.total)}},{key:"totalUSD",get:function(){var e=this.priceConfig.exchangeRate;return this.toFixed(e.USD*+this.total)}},{key:"USDUp",get:function(){return this.segmentedPrice(+this.totalUSD)}}]),e}(),I=[{title:"规格",dataIndex:"type",key:"type"},{title:"总价RMB",dataIndex:"total",key:"total"}],w=[{title:"RMB上浮10%/15%/20%/25%/30%",dataIndex:"RMBUp",key:"RMBUp"},{title:"总价USD",dataIndex:"totalUSD",key:"totalUSD"},{title:"USD上浮10%/15%/20%/25%/30%",dataIndex:"USDUp",key:"USDUp"}],D=[{title:"金属",dataIndex:"corePrice",key:"corePrice"},{title:"云母",dataIndex:"micaPrice",key:"micaPrice"},{title:"绝缘",dataIndex:"insulationPrice",key:"insulationPrice"},{title:"ISCR铝箔单屏",dataIndex:"iscrPrice",key:"iscrPrice"},{title:"单排流线",dataIndex:"iDrainWirePrice",key:"iDrainWirePrice"},{title:"OSCR铝箔总屏蔽",dataIndex:"oscrPrice",key:"oscrPrice"},{title:"总排流线",dataIndex:"drainWirePrice",key:"drainWirePrice"},{title:"内护套",dataIndex:"innerSheathPrice",key:"innerSheathPrice"},{title:"钢丝铠装",dataIndex:"swaPrice",key:"swaPrice"},{title:"外护套",dataIndex:"sheathPrice",key:"sheathPrice"}],R=function(e){h()(n,e);var t=W(n);function n(e){var r;return v()(this,n),r=t.call(this,e),C()(u()(r),"handleToggle",(function(e){return function(t){r.setState(C()({},e,t))}})),r.state={showUSD:!1},r}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.priceConfig.priceConfig,n=e.cable.cables,a=(void 0===n?[]:n).map((function(e){return new S(e,t)})),l=this.state.showUSD;return P.createElement("div",null,P.createElement(i.a,{layout:"inline"},P.createElement(i.a.Item,{label:"显示美元价格和上浮价格"},P.createElement(o.a,{checked:l,onChange:this.handleToggle("showUSD")}))),P.createElement(r.a,{columns:[].concat(I,c()(l?w:[])),dataSource:a,rowKey:"id",pagination:!1,expandedRowRender:function(e){return e?P.createElement(r.a,{columns:D.filter((function(t){var n=t.dataIndex;return"0"!==e[n]})),rowKey:function(){return"1"},dataSource:[e],pagination:!1}):null}}))}}]),n}(P.Component)},367:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));n(114);var r=n(79),a=(n(165),n(164)),c=(n(180),n(179)),i=n(0),o=n.n(i),l=n(59),u=n(371),s=n(88);function h(e){var t=e.priceConfig.priceConfig,n=e.dispatch;return o.a.createElement(a.a,{layout:"vertical",wrapperCol:{xs:24,sm:12,md:6}},o.a.createElement(a.a.Item,{label:"请输入1RMB兑换多少USD,如:0.14"},o.a.createElement(c.a,{type:"number",prefix:"$",suffix:"USD",value:t.exchangeRate.USD,onChange:function(e){return function(e,t,r){return n(Object(l.c)(e,t,+r.target.value))}("exchangeRate","USD",e)}})),o.a.createElement(a.a.Item,null,o.a.createElement(r.a,{block:!0,type:"primary",icon:o.a.createElement(u.a,null),ghost:!0,onClick:function(){return n(Object(s.b)(!0))}},"材料价格")))}},368:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));n(220);var r=n(217),a=n(9),c=n.n(a),i=n(14),o=n.n(i),l=n(15),u=n.n(l),s=n(68),h=n.n(s),f=n(57),p=n.n(f),m=n(0),d=n.n(m),g=n(211),v=n(88);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var E=function(e){u()(n,e);var t=y(n);function n(){return c()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.materialDrawerVisible;return d.a.createElement(r.a,{title:"材料价格",onClose:function(){return t(Object(v.b)(!1))},visible:n},d.a.createElement(g.a,this.props))}}]),n}(d.a.Component)},369:function(e,t,n){"use strict";n.r(t);n(361);var r=n(358),a=(n(187),n(189)),c=(n(188),n(190)),i=(n(362),n(364)),o=n(9),l=n.n(o),u=n(14),s=n.n(u),h=n(45),f=n.n(h),p=n(15),m=n.n(p),d=n(68),g=n.n(d),v=n(57),y=n.n(v),E=n(4),b=n.n(E),C=n(0),P=n.n(C),k=n(374),x=n(375),W=n(371),S=n(376),I=n(161),w=n(92),D=n(88),R=(n(180),n(179)),U=(n(165),n(164)),L=(n(194),n(195)),F=(n(221),n(191)),O=n(170);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var B=F.a.Option,M=function(e){m()(n,e);var t=T(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),b()(f()(e),"onChange",(function(t){return function(n){n.target&&(n=n.target.value),e.props.dispatch(Object(w.d)(b()({id:e.props.cable.id},t,n)))}})),e}return s()(n,[{key:"render",value:function(){var e=this,t=this.props.cable;return C.createElement(U.a,{labelCol:{xs:6},wrapperCol:{xs:18}},C.createElement(U.a.Item,{label:"双绞线"},C.createElement(L.a,{checked:t.pair,onChange:function(t){return e.onChange("pair")(t)}})),C.createElement(U.a.Item,{label:"数量"},C.createElement(R.a,{placeholder:"数量",value:t.coreNum,onChange:this.onChange("coreNum"),suffix:t.pair?"对":""})),C.createElement(U.a.Item,{label:"平方"},C.createElement(R.a,{placeholder:"平方",value:t.coreArea,onChange:this.onChange("coreArea")})),C.createElement(U.a.Item,{label:"芯材"},C.createElement(F.a,{value:t.coreType,onChange:this.onChange("coreType")},Object.keys(O.a).map((function(e){return C.createElement(B,{value:e,key:e},O.a[e])})))),C.createElement(U.a.Item,{label:"云母带"},C.createElement(F.a,{placeholder:"云母带",value:t.mica,onChange:this.onChange("mica")},C.createElement(B,{value:0},"无"),C.createElement(B,{value:1},"一层"),C.createElement(B,{value:2},"二层"))),C.createElement(U.a.Item,{label:"绝缘材料"},C.createElement(F.a,{value:t.insulation,onChange:this.onChange("insulation")},O.c.map((function(e){return C.createElement(B,{value:e,key:e},e)})))),C.createElement(U.a.Item,{label:"铝箔单屏",key:"iscr"},C.createElement(L.a,{checked:t.iscr,onChange:function(t){return e.onChange("iscr")(t)}})),t.iscr&&C.createElement(U.a.Item,{label:"单排流线",key:"iDrainWire"},C.createElement(R.a,{value:t.iDrainWire,onChange:function(t){return e.onChange("iDrainWire")(t.target.value)},placeholder:"单排流线直径"})),C.createElement(U.a.Item,{label:"铝箔总屏",key:"oscr"},C.createElement(L.a,{checked:t.oscr,onChange:function(t){return e.onChange("oscr")(t)}})),t.oscr&&C.createElement(U.a.Item,{label:"总排流线",key:"drainWire"},C.createElement(R.a,{value:t.drainWire,onChange:function(t){return e.onChange("drainWire")(t.target.value)},placeholder:"总排流线直径"})),C.createElement(U.a.Item,{label:"内护套"},C.createElement(F.a,{value:t.innerSheath,onChange:this.onChange("innerSheath")},C.createElement(B,{value:0,key:"0"},"无"),O.d.map((function(e){return C.createElement(B,{value:e,key:e},e)})))),C.createElement(U.a.Item,{label:"SWA"},C.createElement(F.a,{value:t.swa,onChange:this.onChange("swa")},C.createElement(B,{value:0},"无"),O.e.map((function(e){return C.createElement(B,{value:e,key:e},e,"MM")})))),0!==t.swa&&C.createElement(U.a.Item,{label:"SWA直径"},C.createElement(R.a,{placeholder:"直径",type:"number",value:t.diameter,onChange:this.onChange("diameter")})),C.createElement(U.a.Item,{label:"外护套"},C.createElement(F.a,{value:t.sheath,onChange:this.onChange("sheath")},O.d.map((function(e){return C.createElement(B,{value:e,key:e},e)})))))}}]),n}(C.Component),j=(n(192),n(48)),A=n(2),N=n.n(A),V=n(84),Z=(n(220),n(217)),K=n(372),X=n(181);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var $=function(e){m()(n,e);var t=J(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),b()(f()(e),"state",{visible:!1}),b()(f()(e),"showDrawer",(function(){e.setState({visible:!0})})),b()(f()(e),"onClose",(function(){e.setState({visible:!1})})),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.model.models,n=void 0===t?[]:t,r=e.spec,a=e.showOscrWeight,c=void 0===a||a;return C.createElement("span",null,C.createElement(K.a,{onClick:this.showDrawer,style:{color:"#1890ff"}}),C.createElement(Z.a,{title:"材料价格",onClose:this.onClose,visible:this.state.visible},C.createElement(X.a,N()({},this.props,{style:{margin:-24},model:{modelsLoaded:!0,models:n.filter((function(e){return e.spec===r&&(!c||e.oscr)}))}}))))}}]),n}(C.Component),q=n(59);function z(e){var t=e.priceConfig.priceConfig,n=e.cable,r=e.dispatch,a=function(e){var t=[],n=[],r=[],a=[],c=[],i=[],o=e.coreNum,l=e.coreArea,u=e.innerSheath,s=e.iscr,h=e.oscr;if(o&&l){t.push(l),n.push(l);var f=Object(V.a)(e);r.push(f),u&&a.push(f),s&&c.push(f),h&&i.push(f)}return{coreWeights:t,insulationWeights:n,iscrWeights:c,oscrWeights:i,innerSheathWeights:a,sheathWeights:r}}(n),c=a.coreWeights,i=a.insulationWeights,o=a.iscrWeights,l=a.oscrWeights,u=a.innerSheathWeights,s=a.sheathWeights,h=function(e,t,n){return r(Object(q.c)(e,t,n.target.value))};return C.createElement(U.a,{labelCol:{xs:6},wrapperCol:{xs:18}},c.map((function(e){return C.createElement(U.a.Item,{label:"芯材重量",key:e},C.createElement(R.a,{type:"number",value:t.coreWeight&&t.coreWeight[e],onChange:function(t){return h("coreWeight",e,t)}}))})),i.map((function(n){return C.createElement(U.a.Item,{label:"绝缘重量",key:n},C.createElement(R.a,{type:"number",value:t.insulationWeight[n+""],onChange:function(e){return h("insulationWeight",n+"",e)},suffix:t.insulationWeight[n+""]?C.createElement("span",null):C.createElement($,N()({},e,{showSheathWeight:!1,showOscrWeight:!1,spec:n+""}))}))})),o.map((function(e){return C.createElement(U.a.Item,{label:"铝箔单屏重量",key:e},C.createElement(R.a,{type:"number",value:t.iscrWeight[e],onChange:function(t){return h("iscrWeight",e,t)}}))})),l.map((function(n){return C.createElement(U.a.Item,{label:"铝箔总屏重量",key:n},C.createElement(R.a,{type:"number",value:t.oscrWeight[n],onChange:function(e){return h("oscrWeight",n,e)},suffix:t.oscrWeight[n]?C.createElement("span",null):C.createElement($,N()({},e,{showInsulationWeight:!1,showSheathWeight:!1,spec:n}))}))})),u.map((function(n){return C.createElement(U.a.Item,{label:"内护套重量",key:n},C.createElement(R.a,{type:"number",value:t.innerSheathWeight[n],onChange:function(e){return h("innerSheathWeight",n,e)},suffix:t.innerSheathWeight[n]?C.createElement("span",null):C.createElement($,N()({},e,{showInsulationWeight:!1,showOscrWeight:!1,spec:n}))}))})),s.map((function(n){return C.createElement(U.a.Item,{label:"外护套重量",key:n},C.createElement(R.a,{type:"number",value:t.sheathWeight[n],onChange:function(e){return h("sheathWeight",n,e)},suffix:t.sheathWeight[n]?C.createElement("span",null):C.createElement($,N()({},e,{showInsulationWeight:!1,showOscrWeight:!1,spec:n}))}))})),Boolean(c.length)||Boolean(i.length)||Boolean(o.length)||Boolean(l.length)||Boolean(u.length)||Boolean(s.length)||C.createElement(j.a,{description:"请先配置线材"}))}n(365);var G=n(360),H=n(51),Q=n.n(H),Y=n(214),_=n(373);function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}var te=[{title:"芯材价格",dataIndex:"corePrice"},{title:"绝缘价格",dataIndex:"insulationPrice"},{title:"mica云母价格",dataIndex:"micaPrice"},{title:"iscr铝箔单屏价格",dataIndex:"iscrPrice"},{title:"oscr铝箔总屏价格",dataIndex:"oscrPrice"},{title:"单排流线价格",dataIndex:"iDrainWirePrice"},{title:"总排流线价格",dataIndex:"drainWirePrice"},{title:"swa钢丝铠装价格",dataIndex:"swaPrice"},{title:"内护套价格",dataIndex:"innerSheathPrice"},{title:"外护套价格",dataIndex:"sheathPrice"}],ne=function(e){m()(n,e);var t=ee(n);function n(){return l()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.priceConfig.priceConfig,n=e.cable,r=new Y.CableReport(n,t);return C.createElement(G.a,{showLine:{showLeafIcon:!1},defaultExpandAll:!0,switcherIcon:C.createElement(_.a,null),treeData:[].concat(Q()(te.filter((function(e){var t=e.dataIndex;return"0"!==r[t]})).map((function(e){var t=e.title,n=e.dataIndex;return{title:C.createElement("span",{style:{color:"#40e0d0",fontWeight:"bold"}},"".concat(t,": ").concat(r[n])),key:n,children:r.getLog(n).map((function(e,t){return{title:e,key:e+n+t}}))}}))),[{title:C.createElement("span",{style:{color:"#ff4500",fontWeight:"bold"}},"RMB总价: ".concat(r.total)),key:"title-RMB"},{title:"RMB上浮10%/15%/20%/25%/30%",key:"title-RMBUp",children:[{title:r.RMBUp,key:"RMBUp"}]},{title:"USD总价: ".concat(r.totalUSD),key:"title-totalUSD"},{title:"USD上浮10%/15%/20%/25%/30%",key:"title-USDUp",children:[{title:r.USDUp,key:"USDUp"}]}])})}}]),n}(C.Component);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g()(this,n)}}n.d(t,"default",(function(){return ae}));var ae=function(e){m()(n,e);var t=re(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),b()(f()(e),"state",{tab:"cable"}),e}return s()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.cable,o=t.dispatch,l=t.index,u=t.mode,s=void 0===u?"default":u,h=this.state.tab;return P.a.createElement(r.a,{title:"".concat(l,". ").concat(Object(V.a)(n)),style:{marginTop:16},tabList:"tab"===s?[{key:"cable",tab:"规格"},{key:"price",tab:"价格"},{key:"calculation",tab:"计算"}]:void 0,activeTabKey:h,onTabChange:function(t){return e.setState({tab:t})},actions:[P.a.createElement(k.a,{key:"copy",title:"复制",onClick:function(){return o(Object(w.b)(n.id))}}),P.a.createElement(i.a,{title:"确认删除？",key:"delete",onConfirm:function(){return o(Object(w.c)(n.id))}},P.a.createElement(x.a,{title:"删除"})),P.a.createElement(W.a,{key:"search",title:"显示材料价格",onClick:function(){return o(Object(D.b)(!0))}}),P.a.createElement(S.a,{key:"account-book",title:"价格",onClick:function(){return e.setState({tab:"price"})}}),P.a.createElement(I.a,{key:"calculator",title:"计算过程",onClick:function(){return e.setState({tab:"calculation"})}})]},"tab"===s?"cable"===h?P.a.createElement(M,this.props):"price"===h?P.a.createElement(z,this.props):"calculation"===h?P.a.createElement(ne,this.props):null:P.a.createElement(a.a,{gutter:16},P.a.createElement(c.a,{span:8},P.a.createElement(M,this.props)),P.a.createElement(c.a,{span:8},P.a.createElement(z,this.props)),P.a.createElement(c.a,{span:8},P.a.createElement(ne,this.props))))}}]),n}(P.a.Component)},370:function(e,t,n){"use strict";n.r(t);var r=n(61),a=(n(187),n(189)),c=(n(188),n(190)),i=(n(114),n(79)),o=(n(363),n(359)),l=n(0),u=n.n(l),s=n(211);function h(){o.a.confirm({title:"确认清空缓存?",content:"此操作会丢弃所有计算进度！",onOk:function(){localStorage.clear(),location.reload()}})}t.default=Object(r.connect)((function(e){return{priceConfig:e.priceConfig}}))((function(e){var t=e.priceConfig,n=e.dispatch;return u.a.createElement("div",{style:{padding:15}},u.a.createElement(a.a,null,u.a.createElement(c.a,{xs:24,sm:12},u.a.createElement("h2",null,"材料价格"),u.a.createElement(s.a,{priceConfig:t,dispatch:n}),u.a.createElement("h2",null,"调试工具"),u.a.createElement(i.a,{danger:!0,block:!0,onClick:h},"清空缓存"))))}))}}]);