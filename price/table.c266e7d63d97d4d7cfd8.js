(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{170:function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return n})),i.d(e,"e",(function(){return r})),i.d(e,"f",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return s})),i.d(e,"g",(function(){return u}));var c={CU:"铜",TC:"镀锡铜"},n={CU:8.9,TC:8.9},r=["0.9","1.25","1.6","2"],a=.85,o=["XLPE","PVC","PE","WDZ"],s=["WDZ","PVC","EPDM","AB隔氧层料"],u={CU:"纯铜",TC:"镀锡铜",STEEL:"钢丝",AL:"铝箔屏蔽",mica:"云母带",EPDM:"EPDM乙丙橡胶",XLPE:"XLPE",PVC:"PVC",PE:"PE",WDZ:"WDZ","AB隔氧层料":"AB隔氧层料"}},181:function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));i(178);var c=i(177),n=i(51),r=i.n(n),a=i(0),o=i(91),s=[{title:"型号",dataIndex:"model",key:"model",filterMultiple:!1,onFilter:function(t,e){return e.model===t},filters:[]},{title:"规格",dataIndex:"spec",key:"spec"}];function u(t){var e=t.model,i=e.modelsLoaded,n=e.models,u=t.dispatch,h=t.showInsulationWeight,d=void 0===h||h,l=t.showSheathWeight,f=void 0===l||l,p=t.showOscrWeight,P=void 0===p||p;if(!i)return u(Object(o.a)()),null;var g=[].concat(s);return d&&g.push({title:"绝缘重量",dataIndex:"iw",key:"iw"}),f&&g.push({title:"护套重量",dataIndex:"sw",key:"sw"}),P&&g.push({title:"屏蔽重量",dataIndex:"oscr",key:"oscr"}),g[0].filters=r()(new Set(n.map((function(t){return t.model})))).map((function(t){return{text:t,value:t}})),a.createElement("div",{style:t.style||{padding:15}},a.createElement(c.a,{columns:g,dataSource:n}))}},184:function(t,e,i){t.exports=i(28)(60)},214:function(t,e,i){"use strict";i.r(e),i.d(e,"CableReport",(function(){return W})),i.d(e,"default",(function(){return L}));i(178);var c=i(177),n=i(51),r=i.n(n),a=(i(165),i(164)),o=(i(194),i(195)),s=i(45),u=i.n(s),h=i(15),d=i.n(h),l=i(68),f=i.n(l),p=i(57),P=i.n(p),g=i(9),v=i.n(g),y=i(14),m=i.n(y),x=i(4),k=i.n(x),C=i(0),S=i(170),w=i(84);function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,c=P()(t);if(e){var n=P()(this).constructor;i=Reflect.construct(c,arguments,n)}else i=c.apply(this,arguments);return f()(this,i)}}var W=function(){function t(e,i){v()(this,t),this.cable=e,this.priceConfig=i,k()(this,"logs",{corePrice:[],micaPrice:[],insulationPrice:[],iscrPrice:[],iDrainWirePrice:[],oscrPrice:[],drainWirePrice:[],innerSheathPrice:[],swaPrice:[],sheathPrice:[]})}return m()(t,[{key:"toFixed",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return isNaN(t)?"":t.toFixed(e)}},{key:"segmentedPrice",value:function(t){var e=this;return t?[1.1,1.15,1.2,1.25,1.3].map((function(i){return e.toFixed(i*t)})).join("/"):""}},{key:"getLog",value:function(t){return this.logs[t]}},{key:"setLog",value:function(t,e){this.logs[t]=e}},{key:"id",get:function(){return this.cable.id}},{key:"type",get:function(){return Object(w.a)(this.cable)}},{key:"corePrice",get:function(){var t=this.cable,e=t.coreNum,i=t.coreArea,c=t.coreType,n=t.pair,r=this.priceConfig,a=r.material,o=r.coreWeight;if(!e||!i)return"0";var s=[],u=(void 0===o?{}:o)[i]||0;s.push("".concat(c,"单位重量 = ").concat(u));var h=(u*a[c]).toFixed(2);s.push("单位价格(".concat(h,") = ↸(").concat(u,") * ").concat(c,"单价(").concat(a[c],")"));var d=this.toFixed(+e*+h*(n?2:1));return s.push("总价(".concat(d,") = ").concat(n?"".concat(e,"对"):"数量(".concat(e,")")," * ↸(").concat(h,")")),this.setLog("corePrice",s),d}},{key:"micaPrice",get:function(){var t=this.cable,e=t.coreNum,i=t.mica,c=this.priceConfig.material;if(0===i||!e)return"0";var n=[];n.push("mica单价 = ".concat(c.mica));var r=this.toFixed(+e*i*c.mica);return n.push("总价(".concat(r,") = 数量(").concat(e,") * ").concat(i,"层 * ↸(").concat(c.mica,")")),this.setLog("micaPrice",n),r}},{key:"insulationPrice",get:function(){var t=this.cable,e=t.coreNum,i=t.coreArea,c=t.insulation,n=t.pair,r=this.priceConfig,a=r.insulationWeight,o=r.material;if(!c||!i||!e)return"0";var s=[];s.push("".concat(c,"单位重量 = ").concat(a[i]));var u=this.toFixed(a[i]*o[c]);s.push("单位价格(".concat(u,") = ↸(").concat(a[i],") * ").concat(c,"单价(").concat(o[c],")"));var h=this.toFixed(+e*+u*(n?2:1));return s.push("总价(".concat(h,") = ").concat(n?"".concat(e,"对"):"数量(".concat(e,")")," * ↸(").concat(u,")")),this.setLog("insulationPrice",s),h}},{key:"iscrPrice",get:function(){var t=this.cable,e=t.coreNum,i=t.iscr,c=this.priceConfig,n=c.material,r=c.iscrWeight;if(!i||!e)return"0";var a=[];a.push("iscr单位重量 = ".concat(r[this.type]));var o=this.toFixed(n.AL*r[this.type]);a.push("单位价格(".concat(o,") = ↸(").concat(r[this.type],") * 铝单价(").concat(n.AL,")"));var s=this.toFixed(+e*+o);return a.push("总价(".concat(s,") = 数量(").concat(e,") * ↸(").concat(o,")")),this.setLog("iscrPrice",a),s}},{key:"oscrPrice",get:function(){var t=this.cable.oscr,e=this.priceConfig,i=e.material,c=e.oscrWeight;if(!t)return"0";var n=[],r=c[this.type]||0;n.push("oscr单位重量 = ".concat(r));var a=this.toFixed(i.AL*r);return n.push("总价(".concat(a,") = ↸(").concat(r,") * 铝单价(").concat(i.AL,")")),this.setLog("oscrPrice",n),a}},{key:"iDrainWirePrice",get:function(){var t=this.cable,e=t.coreNum,i=t.iscr,c=t.iDrainWire,n=this.priceConfig.material;if(!i||!c||!e)return"0";var r=[];r.push("单排流线直径 = ".concat(c));var a=this.toFixed(3.14*Math.pow(+c/2,2));r.push("排流线体积(".concat(a,"): ↸(").concat(c," / 2) ^ 2 * 3.14"));var o=this.toFixed(+a*S.b.TC);r.push("排流线重量(".concat(o,") = ↸(").concat(a,") * 镀锡铜密度(").concat(S.b.TC,")"));var s=this.toFixed(+o*n.TC);r.push("单位价格(".concat(s,") = ↸(").concat(o,") * ").concat(n.TC));var u=this.toFixed(+s*+e);return r.push("总价(".concat(u,") = 数量(").concat(e,") * ↸(").concat(s,")")),this.setLog("iDrainWirePrice",r),u}},{key:"drainWirePrice",get:function(){var t=this.cable,e=t.coreNum,i=t.iscr,c=t.drainWire,n=this.priceConfig.material;if(!i||!c||!e)return"0";var r=[];r.push("总排流线直径 = ".concat(c));var a=this.toFixed(3.14*Math.pow(+c/2,2));r.push("排流线体积(".concat(a,"): ↸(").concat(c," / 2) ^ 2 * 3.14"));var o=this.toFixed(+a*S.b.TC);r.push("排流线重量".concat(o," = ↸(").concat(a,") * 镀锡铜密度(").concat(S.b.TC,")"));var s=this.toFixed(+o*n.TC);return r.push("总价".concat(s," = ↸(").concat(o,") * 铝单价(").concat(n.TC,")")),this.setLog("drainWirePrice",r),s}},{key:"innerSheathPrice",get:function(){var t=this.cable.innerSheath,e=this.priceConfig,i=e.material,c=e.innerSheathWeight;if(0===t)return"0";var n=[],r=c[this.type]||0;n.push("".concat(t,"单位重量 = ").concat(r));var a=this.toFixed(r*i[t]);return n.push("总价(".concat(a,") = ↸(").concat(r,") * ").concat(t,"单价(").concat(i[t],")")),this.setLog("innerSheathPrice",n),a}},{key:"swaPrice",get:function(){var t=this.cable,e=t.swa,i=t.diameter,c=this.priceConfig,n=c.material,r=c.swaWeight;if(0===e||!i)return"0";var a=[],o=this.toFixed(3.14*+i/e);a.push("钢丝数量(".concat(o,") = 直径(").concat(i,") * ").concat(3.14," / 钢丝直径(").concat(e,")"));var s=this.toFixed(+o*S.f*r[e]);a.push("钢丝重量(".concat(s,") = ↸(").concat(o,") * 绞距浪费(").concat(S.f,") * 钢丝单位重量(").concat(r[e],")"));var u=this.toFixed(+s*n.STEEL);return a.push("总价(".concat(u,") = ↸(").concat(s,") * 钢单价(").concat(n.STEEL,")")),this.setLog("swaPrice",a),u}},{key:"sheathPrice",get:function(){var t=this.cable.sheath;if(!t)return"0";var e=this.priceConfig,i=e.material,c=[],n=e.sheathWeight[this.type]||0;c.push("".concat(t,"单位重量 = ").concat(n));var r=this.toFixed(n*i[t]);return c.push("总价(".concat(r,") = ↸(").concat(n,") * ").concat(t,"单价(").concat(i[t],")")),this.setLog("sheathPrice",c),r}},{key:"price",get:function(){return{corePrice:this.corePrice,micaPrice:this.micaPrice,insulationPrice:this.insulationPrice,iscrPrice:this.iscrPrice,iDrainWirePrice:this.iDrainWirePrice,oscrPrice:this.oscrPrice,drainWirePrice:this.drainWirePrice,innerSheathPrice:this.innerSheathPrice,swaPrice:this.swaPrice,sheathPrice:this.sheathPrice}}},{key:"total",get:function(){return this.toFixed(Object.values(this.price).reduce((function(t,e){return t+ +e}),0))}},{key:"RMBUp",get:function(){return this.segmentedPrice(+this.total)}},{key:"totalUSD",get:function(){var t=this.priceConfig.exchangeRate;return this.toFixed(t.USD*+this.total)}},{key:"USDUp",get:function(){return this.segmentedPrice(+this.totalUSD)}}]),t}(),b=[{title:"规格",dataIndex:"type",key:"type"},{title:"总价RMB",dataIndex:"total",key:"total"}],F=[{title:"RMB上浮10%/15%/20%/25%/30%",dataIndex:"RMBUp",key:"RMBUp"},{title:"总价USD",dataIndex:"totalUSD",key:"totalUSD"},{title:"USD上浮10%/15%/20%/25%/30%",dataIndex:"USDUp",key:"USDUp"}],I=[{title:"金属",dataIndex:"corePrice",key:"corePrice"},{title:"云母",dataIndex:"micaPrice",key:"micaPrice"},{title:"绝缘",dataIndex:"insulationPrice",key:"insulationPrice"},{title:"ISCR铝箔单屏",dataIndex:"iscrPrice",key:"iscrPrice"},{title:"单排流线",dataIndex:"iDrainWirePrice",key:"iDrainWirePrice"},{title:"OSCR铝箔总屏蔽",dataIndex:"oscrPrice",key:"oscrPrice"},{title:"总排流线",dataIndex:"drainWirePrice",key:"drainWirePrice"},{title:"内护套",dataIndex:"innerSheathPrice",key:"innerSheathPrice"},{title:"钢丝铠装",dataIndex:"swaPrice",key:"swaPrice"},{title:"外护套",dataIndex:"sheathPrice",key:"sheathPrice"}],L=function(t){d()(i,t);var e=D(i);function i(t){var c;return v()(this,i),c=e.call(this,t),k()(u()(c),"handleToggle",(function(t){return function(e){c.setState(k()({},t,e))}})),c.state={showUSD:!1},c}return m()(i,[{key:"render",value:function(){var t=this.props,e=t.priceConfig.priceConfig,i=t.cable.cables,n=(void 0===i?[]:i).map((function(t){return new W(t,e)})),s=this.state.showUSD;return C.createElement("div",null,C.createElement(a.a,{layout:"inline"},C.createElement(a.a.Item,{label:"显示美元价格和上浮价格"},C.createElement(o.a,{checked:s,onChange:this.handleToggle("showUSD")}))),C.createElement(c.a,{columns:[].concat(b,r()(s?F:[])),dataSource:n,rowKey:"id",pagination:!1,expandedRowRender:function(t){return t?C.createElement(c.a,{columns:I.filter((function(e){var i=e.dataIndex;return"0"!==t[i]})),rowKey:function(){return"1"},dataSource:[t],pagination:!1}):null}}))}}]),i}(C.Component)},366:function(t,e,i){"use strict";i.r(e);var c=i(61),n=i(181);e.default=Object(c.connect)((function(t){return{model:t.model}}))(n.a)}}]);